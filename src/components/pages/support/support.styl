@import "~themes/_variables"

$headerHeight = 60px
$maxContainerWidth = 500px
$lineHeight = 1px
$borderRadius = 13px
$minTextAreaHeight = 50px
$maxTextAreaHeight = 400px
$attachmentHeight = 88px
$arrowRotate = 180deg

.support__header
  position: absolute
  left: 0
  top: 0
  right: 0
  height: $headerHeight
  padding: 0px ($hSpacing * 1.5)
  display: flex
  align-items: center
  justify-content: space-between
  border-bottom: 1px solid var(--gray)

  &-title
    font-size: var(--regularFont)

.main-container
  &:not(.is-mobile)
    .support__header
      max-width: $maxContainerWidth
      width: 100%
      left: 50%
      right: unset
      transform: translateX(-50%)
      padding-left: 0
      padding-right: 0

.support__arrow
  cursor: pointer
  padding: ($vSpacing / 2) ($hSpacing / 2)
  display: flex
  align-items: center
  color: var(--graydarker)
  font-size: var(--regularFont)
  transition: all 0.4s ease-out
  svg
    height: $iconSize
    transform: "rotateY(%s)" % ($arrowRotate)
  span
    margin-left: ($hSpacing * 1.3)
    transform: translateY(-1px)

.support__arrow-transform
  svg
    transform: none

.support
    &__body
      position: absolute
      top: $headerHeight
      left: 0
      right: 0
      bottom: 0px
      overflow: auto
      padding: ($vSpacing * 3.5) ($hSpacing * 2)
      &::-webkit-scrollbar
        width: 1px
      &::-webkit-scrollbar-track
        background: var(--superlightgray)
      &::-webkit-scrollbar-thumb
        background: var(--graydarker)
        &:hover
          background: var(--darksilver)

      &-preview
        width: 100%
        display: flex
        flex-wrap: wrap

      &-line
        max-width: $maxContainerWidth
        width: 100%
        margin: ($vSpacing * 4) auto
        display: block
        height: $lineHeight
        position: relative
        &:before
          left: 0
          right: 0
          top: 50%
          height: $lineHeight
          content: ''
          position: absolute
          transform: translateY(-50%)
          background: var(--gray)

      &-text
        display: grid
        grid-template-columns: 1fr
        grid-gap: ($vSpacing * 1.5)
        font-size: var(--regularFont)
        max-width: $maxContainerWidth
        margin-left: auto
        margin-right: auto

      &-form
        max-width: $maxContainerWidth
        width: 100%
        display: grid
        grid-gap: ($vSpacing * 2)
        grid-template-columns: 1fr
        margin-left: auto
        margin-right: auto

      &-box
        display: flex
        flex-direction: column

      &-input
        width: 100%
        padding: ($vSpacing / 2) ($hSpacing * 1.5)
        border: 1px solid var(--gray)
        border-radius: $borderRadius
        font-size: var(--regularFont)
        background: var(--message-background-color)
        font-family: "Verdana"

      &-textarea
        resize: vertical
        min-height: $minTextAreaHeight
        max-height: $maxTextAreaHeight

      &-btn
        align-self: flex-end
        font-size: var(--regularFont)
        cursor: pointer
        border-radius: 0
        border: none
        background: transparent
        color: var(--graydarker)

      &-attachment
        height: $attachmentHeight
        border: 1px solid var(--gray)
        padding: ($vSpacing / 2) $hSpacing
        border-radius: $borderRadius
        cursor: pointer
        position: relative

        &-fullheight
          height: 100%

        &-plus
          position: absolute
          left: 50%
          top: 50%
          transform: translate(-50%, -50%)
          svg
            height: round($iconSize / 0.73)

        &-input
          position: absolute
          height: 1px
          opacity: 0
          width: 1px
          overflow: hidden

        &-text
          font-size: var(--regularFont)
          text-align: center

    &__arrow
      cursor: pointer
      padding: ($vSpacing / 2)
      display: flex
      align-items: center
      color: var(--graydarker)
      font-size: var(--regularFont)
      transition: all 0.4s ease-out

      svg
        height: $iconSize
        transform: rotateY(180deg)

      span
        margin-left: ($hSpacing * 1.3)
        transform: translateY(-1px)

      &-transform
        svg
          transform: none


.is-mobile
  .support
    &__body
      bottom: var(--bottom-menu-height)

      &-preview
        &-item
          width: 100%
          padding-top: 100%

        &-close
          opacity: 1
