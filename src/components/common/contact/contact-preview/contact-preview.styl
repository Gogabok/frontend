@import "~themes/_variables"

$height = $bottomAppMenuHeight + $chatsInputHeight
$avatarSize = 70px
$avatarSpacingBorderWidth = 3px

.contacts-menu-container
  > button
    width: 100%
    text-align: left

    :first-child
      .contact-preview
        padding-top: ($vSpacing * 1.5)

.contact-preview
  position: relative
  height: $height
  padding: ($vSpacing * 0.5) ($hSpacing * 0.5)
  border-bottom: 1px solid var(--gray)
  color: var(--graydarker)
  transition: color 0.2s ease-in-out

  &:hover
    color: var(--black)

    .contact-preview__arrow path
      stroke: var(--black)

  &__container
    display: flex
    justify-content: space-between
    align-items: center
    height: 100%
    width: 100%
    cursor: pointer

  .profile-link
    display: none

  &.is-user-contact
    .profile-link
      display: block
      position: absolute
      top: 0
      left: 0
      right: 0
      bottom: 0

  &__avatar
    position: relative
    width: $avatarSize
    height: $avatarSize
    flex-shrink: 0
    margin-right: ($hSpacing * 1.5)
    margin-left: ($hSpacing * 0.5)
    padding: ($vSpacing * 0.4) ($hSpacing * 0.4)
    border-radius: 100%
    overflow: hidden
    background-color: var(--white)

    &-default
      width: 100%
      height: 100%
      border-radius: 100%

    &-small
      width: "calc(%s / 2)" % ($avatarSize)
      height: "calc(%s / 2)" % ($avatarSize)
      margin-right: $hSpacing
      margin-left: "calc(%s / 2)" % ($avatarSize)
      padding: ($vSpacing * 0.2) ($hSpacing * 0.2)


    &.is-online
      border: 1px solid var(--online-color)

    &.is-busy
      border: 1px solid var(--busy-color)

    &.is-offline
      border: 1px solid var(--offline-color)

    &.is-away
      border: 1px solid var(--away-color)

    &.is-live
      border: 1px solid var(--live-color)

    .avatar-icon
      position: absolute
      left: $avatarSpacingBorderWidth
      right: $avatarSpacingBorderWidth
      bottom: $avatarSpacingBorderWidth
      top: $avatarSpacingBorderWidth
      border-radius: 100%
      overflow: hidden
      background-color: var(--white)
      background-repeat: no-repeat
      background-position: center
      background-size: 100% auto

    .avatar-icon.default
      width: 100%
      height: 100%
      top: 0
      left: 0
      bottom: 0
      right: 0
      object-fit: contain

  &__description
    display: flex
    flex-direction: column
    justify-content: center
    width: 90%
    font-size: var(--regularFont)

  &__title
    margin: ($vSpacing * 0.5) 0 $hSpacing
    margin-bottom: ($vSpacing * 0.7)
    cursor: pointer

  &__subtitle
    font-size: var(--smallFont)
    cursor: pointer

  &__arrow
    align-self: center
    margin-right: ($hSpacing * 1.9)

    path
      transition: stroke 0.2s ease-in-out

    svg
      width: $arrowIconSize

  &:hover
    color: var(--superdarkgray)

    line, path, ellipse, circle
      stroke: var(--superdarkgray) !important

    text
      fill: var(--superdarkgray)

    span
      color: var(--superdarkgray)


.add-contact
  display: flex
  justify-content: space-between
  align-items: center
  position: relative
  margin: 0 ($hSpacing * 0.5)
  padding: ($vSpacing * 2) ($hSpacing * 2) ($vSpacing * 1.5)

  &__icon
    display: flex
    height: $avatarSize
    margin-right: ($hSpacing * 1.3)
    overflow: hidden

    svg
      width: $avatarSize

  &__text
    width: 72%

  &:hover
    color: var(--superdarkgray)

    line, path, ellipse, circle
      stroke: var(--superdarkgray) !important

    text
      fill: var(--superdarkgray)

    span
      color: var(--superdarkgray)

.dropdown-menu
  position: relative
  z-index: 10

  & + .dropdown-content
    position: absolute
    padding: ($vSpacing * 1.5) ($hSpacing * 1.5)
    padding-left: ($hSpacing * 2.5)
    transition: all 0.15s
    transform: "translateY(%s)" % (- $hSpacing)
    z-index: -1
    opacity: 0
    background-color: var(--gray)

    ul
      margin-top: 0
      margin-bottom: 0
      padding-left: 0

  &.active
    & + .dropdown-content
      z-index: 11
      opacity: 1
      transform: translateY(0)

      li
        cursor: pointer

.contacts__container-add .contact-preview__arrow
  display: none
